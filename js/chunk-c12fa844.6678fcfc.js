(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c12fa844"],{"0a49":function(t,e,n){var a=n("9b43"),i=n("626a"),r=n("4bf8"),s=n("9def"),o=n("cd1c");t.exports=function(t,e){var n=1==t,c=2==t,d=3==t,l=4==t,u=6==t,f=5==t||u,h=e||o;return function(e,o,m){for(var v,g,p=r(e),w=i(p),b=a(o,m,3),C=s(w.length),y=0,x=n?h(e,C):c?h(e,0):void 0;C>y;y++)if((f||y in w)&&(v=w[y],g=b(v,y,p),t))if(n)x[y]=g;else if(g)switch(t){case 3:return!0;case 5:return v;case 6:return y;case 2:x.push(v)}else if(l)return!1;return u?-1:d||l?l:x}}},1169:function(t,e,n){var a=n("2d95");t.exports=Array.isArray||function(t){return"Array"==a(t)}},1840:function(t,e,n){},"21dc":function(t,e,n){},"2d22":function(t,e,n){"use strict";var a=n("95ef"),i=n.n(a);i.a},"32d4":function(t,e,n){},"36bd":function(t,e,n){"use strict";var a=n("4bf8"),i=n("77f1"),r=n("9def");t.exports=function(t){var e=a(this),n=r(e.length),s=arguments.length,o=i(s>1?arguments[1]:void 0,n),c=s>2?arguments[2]:void 0,d=void 0===c?n:i(c,n);while(d>o)e[o++]=t;return e}},3978:function(t,e,n){"use strict";var a=n("21dc"),i=n.n(a);i.a},"40d8":function(t,e,n){},"4bfb":function(t,e,n){"use strict";n.d(e,"n",(function(){return i})),n.d(e,"l",(function(){return r})),n.d(e,"g",(function(){return s})),n.d(e,"i",(function(){return o})),n.d(e,"j",(function(){return c})),n.d(e,"c",(function(){return d})),n.d(e,"h",(function(){return l})),n.d(e,"d",(function(){return u})),n.d(e,"f",(function(){return f})),n.d(e,"a",(function(){return h})),n.d(e,"e",(function(){return m})),n.d(e,"b",(function(){return v})),n.d(e,"m",(function(){return g})),n.d(e,"k",(function(){return p}));var a=n("b775");function i(t){return Object(a["a"])({url:"/family/saveRecord",method:"post",data:t})}function r(t){return Object(a["a"])({url:"/family/savePlan",method:"post",data:t})}function s(t){return Object(a["a"])({url:"/family/getPlanByPage",method:"post",data:t})}function o(t){return Object(a["a"])({url:"/family/getRecordByPage",method:"post",data:t})}function c(t){return Object(a["a"])({url:"/family/getRecordDayByPage",method:"post",data:t})}function d(t){return Object(a["a"])({url:"/family/changePlanStatus",method:"post",data:t})}function l(t){return Object(a["a"])({url:"/family/getRecordByDay",method:"post",data:t})}function u(t){return Object(a["a"])({url:"/family/changeRecord",method:"post",data:t})}function f(t){return Object(a["a"])({url:"/family/deleteRecord",method:"post",data:t})}function h(t){return Object(a["a"])({url:"/family/addRecord",method:"post",data:t})}function m(t){return Object(a["a"])({url:"/family/deletePlan",method:"post",data:t})}function v(t){return Object(a["a"])({url:"/family/changePlan",method:"post",data:t})}function g(t){return Object(a["a"])({url:"/family/saveProgress",method:"post",data:t})}function p(){return Object(a["a"])({url:"/family/nowStatus",method:"post"})}},5278:function(t,e,n){"use strict";var a=n("7dba"),i=n.n(a);i.a},"68a6":function(t,e,n){},"6c7b":function(t,e,n){var a=n("5ca1");a(a.P,"Array",{fill:n("36bd")}),n("9c6c")("fill")},7514:function(t,e,n){"use strict";var a=n("5ca1"),i=n("0a49")(5),r="find",s=!0;r in[]&&Array(1)[r]((function(){s=!1})),a(a.P+a.F*s,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(r)},"7dba":function(t,e,n){},"86d8":function(t,e,n){},"95ef":function(t,e,n){},"9aa0":function(t,e,n){"use strict";var a=n("40d8"),i=n.n(a);i.a},b0d4:function(t,e,n){"use strict";var a=n("1840"),i=n.n(a);i.a},c0b4:function(t,e,n){"use strict";var a=n("c28c"),i=n.n(a);i.a},c28c:function(t,e,n){},c9c0:function(t,e,n){"use strict";var a=n("86d8"),i=n.n(a);i.a},caae:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"record-main"},[n("van-tabs",{attrs:{sticky:"",background:"rgba(239, 236 ,227, 1)",swipeable:"",color:"rgb(165, 145, 108)",animated:""},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[n("van-tab",{staticClass:"oct-van-tab",attrs:{title:"每日打卡",name:"recordDaily"}},[n("oct-record-circle",{ref:"recordCircle",staticClass:"record-circle",on:{initRecordStatus:t.initRecordStatus}})],1),n("van-tab",{staticClass:"oct-van-tab",attrs:{title:"历史打卡",name:"recordHis"}},[n("oct-record-his")],1),n("van-tab",{staticClass:"oct-van-tab",attrs:{title:"学习报表",name:"recordChart"}},[t._v("内容 3")])],1),n("div",{staticClass:"record-action oct-flex-row-all-center to-small",on:{click:function(e){return t.recordAction(t.recordStatus.run)}}},[n("van-icon",{directives:[{name:"show",rawName:"v-show",value:!t.recordStatus.run,expression:"!recordStatus.run"}],attrs:{name:"play"}}),n("van-icon",{directives:[{name:"show",rawName:"v-show",value:t.recordStatus.run,expression:"recordStatus.run"}],attrs:{name:"stop"}})],1),n("div",{staticClass:"record-action-right oct-flex-row-all-center"},[n("van-icon",{attrs:{name:"bookmark"},on:{click:function(e){t.showCard=!0}}})],1),n("div",{staticClass:"record-action-left oct-flex-row-all-center"},[n("van-icon",{attrs:{name:t.selectMe?"friends":"manager"},on:{click:function(e){t.selectMe=!t.selectMe}}})],1),n("oct-wel-card",{attrs:{showCard:t.showCard},on:{changeShowCard:t.changeShowCard,click:function(e){t.showCard=!1}}})],1)},i=[],r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-overlay",{attrs:{show:t.show},on:{click:t.clickOverLay}},[n("div",{staticClass:"wrapper"},[n("div",{staticClass:"block"},[n("oct-last-calender",{staticStyle:{height:"65%","border-bottom":"3px dotted rgb(255, 191, 176)"},attrs:{show:t.show}}),n("div",{staticClass:"oct-flex-col-all-center;height: 100%;"},[n("iframe",{attrs:{scrolling:"no",width:"100%",src:"https://tianqiapi.com/api.php?style=ya&skin=durian&cityid=101210106",frameborder:"0",allowtransparency:"true"}})])],1)])])},s=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"countdown"},[n("div",{staticClass:"timer"},[n("p",{staticClass:"text"},[t._v("考研倒计时")]),n("div",{staticClass:"box"},[n("div",{staticClass:"spacer"}),n("p",{staticClass:"value"},[t._v(t._s(t.days))]),n("p",{staticClass:"label"},[t._v("天")])]),n("div",{staticClass:"box"},[n("div",{staticClass:"spacer"}),n("p",{staticClass:"value"},[t._v(t._s(t.hours))]),n("p",{staticClass:"label"},[t._v("小时")])]),n("div",{staticClass:"box"},[n("div",{staticClass:"spacer"}),n("p",{staticClass:"value"},[t._v(t._s(t.minutes))]),n("p",{staticClass:"label"},[t._v("分")])]),n("div",{staticClass:"box"},[n("div",{staticClass:"spacer"}),n("p",{staticClass:"value"},[t._v(t._s(t.seconds))]),n("p",{staticClass:"label"},[t._v("秒")])])]),t._m(0)])},c=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"expired-timer timer"},[n("div",{staticClass:"box"},[n("div",{staticClass:"spacer"}),n("p",{staticClass:"value"},[t._v("Good Good Study")]),n("p",{staticClass:"label"},[t._v("I'll have you in my arms")])])])}],d={name:"OctLastCalender",data:function(){return{days:"HI",hours:"TH",minutes:"ER",seconds:"E!",timer:null,date:new Date}},props:{show:{type:Boolean,default:!1}},watch:{show:function(t,e){t||(clearInterval(this.timer),this.timer=null),!e&&t&&this.theTime()}},beforeDestroy:function(){this.timer&&clearInterval(this.timer),this.timer=null},mounted:function(){this.show&&this.theTime()},methods:{theTime:function(){var t=this;this.timer=setInterval((function(){var e=t.$moment(new Date("2020/12/21 08:30:00")),n=t.$moment(this.date);t.days=e.diff(n,"days"),t.hours=e.diff(n,"hours")%24,t.minutes=e.diff(n,"minutes")%60,t.seconds=e.diff(n,"seconds")%60}),1e3)}}},l=d,u=(n("d667"),n("2877")),f=Object(u["a"])(l,o,c,!1,null,"39da01a8",null),h=f.exports,m={name:"AppHome",components:{OctLastCalender:h},props:{showCard:{type:Boolean,default:!1}},mounted:function(){this.show=this.showCard},watch:{showCard:function(t){this.show=t}},data:function(){return{show:!0,timer:null}},beforeDestroy:function(){this.show=!1,this.$emit("changeShowCard")},methods:{clickOverLay:function(){this.show=!1,this.$emit("changeShowCard")}}},v=m,g=(n("5278"),Object(u["a"])(v,r,s,!1,null,"074cc4a1",null)),p=g.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"record-circle",on:{click:t.clickBody}},[n("div",{staticClass:"oct-flex-row-h-center",staticStyle:{height:"45vh"},attrs:{id:"topCircle"}},[n("div",{staticClass:"wrapper",attrs:{id:"circleOut"}},[n("div",{staticClass:"bg",attrs:{id:"circleIn"}}),n("div",{staticClass:"circle oct-flex-col-all-center"},[n("div",{staticClass:"record-time"},[t._v("\n          "+t._s(this.$moment(t.date).format("HH:mm"))+"\n          "),n("span",{staticStyle:{"font-size":"20px"}},[t._v(t._s(this.$moment(t.date).format("ss")))])]),n("div",{staticClass:"record-start"},[t._v(t._s(t.recordStatus.run?"End !":"Start !"))]),n("div",{staticClass:"record-start-add",on:{click:t.addRecord}},[n("el-icon",{staticClass:"el-icon-circle-plus"})],1)])])]),n("div",{staticStyle:{"overflow-y":"auto","padding-bottom":"120px"},attrs:{id:"listBody"}},[n("van-list",{attrs:{finished:t.finished,"finished-text":"没有了更多了，欢迎继续打卡噢！"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.records,(function(e){return n("div",{key:e.recordId,ref:"record"+e.id,refInFor:!0,staticClass:"circle-single-issue material-design",style:t.getContent(e).background,on:{touchstart:function(n){return t.touchStart(e,n)},touchend:function(n){return t.touchEnd(e,n)}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showConfig[e.id],expression:"showConfig[item.id]"}],staticClass:"touch-config",attrs:{id:"touchConfig"+e.id}},[n("div",{staticClass:"touch-item",on:{click:t.changeTime}},[t._v("\n            修改时间\n          ")]),n("div",{staticClass:"touch-item",on:{click:t.deleteRecord}},[t._v("\n            删除打卡\n          ")]),n("div",{staticClass:"touch-item",on:{click:t.cancelRecord}},[t._v("\n            取消\n          ")])]),n("div",{staticClass:"oct-flex-row-v-center"},[n("div",{staticStyle:{"border-right":"4px dotted rgba(125, 105, 78, 1)","padding-right":"15px"}},[n("div",{staticClass:"circle-issue-date"},[t._v("\n                "+t._s(t.getTimeStr(e.startTime,"HH:mm"))+" - "+t._s(1===e.status?t.$moment(t.date).format("HH:mm"):t.getTimeStr(e.endTime,"HH:mm"))+"\n              ")]),n("div",{staticClass:"record-small-date"},[t._v(t._s(t.getTimeStr(e.startTime,"YYYY年MM月DD日 "))+t._s(t.getWeekDay(e.startTime)))])]),n("div",{staticStyle:{"margin-left":"15px"}},[n("div",{staticClass:"oct-flex-row-v-center record-right-info",staticStyle:{"margin-bottom":"5px",position:"relative"}},[n("van-image",{style:"> 5"===t.getContent(e).content?"border: 1px solid rgba(138, 12, 0, 0.8)":"border: 1px solid rgb(165, 145, 108)",attrs:{src:e.avatar,fit:"fill",round:"",width:"25",height:"25"}}),n("div",{directives:[{name:"show",rawName:"v-show",value:"> 5"===t.getContent(e).content,expression:"getContent(item).content === '> 5'"}],staticClass:"header-logo"},[n("van-icon",{attrs:{name:"fire"}})],1),n("div",{style:"> 5"===t.getContent(e).content?"margin-left: 10px;color: rgba(138, 12, 0, 0.8);font-weight: bold;":"margin-left: 10px"},[t._v(t._s(e.nickName))])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:2===e.status,expression:"item.status === 2"}]},[n("div",{class:"> 5"===t.getContent(e).content?"shadow record-right-info":"record-right-info"},[n("span",[t._v("打卡时长: ")]),t._v(t._s(t.getDiffTime(new Date(e.startTime),new Date(e.endTime))))])]),n("div",{directives:[{name:"show",rawName:"v-show",value:1===e.status,expression:"item.status === 1"}]},[n("div",{staticClass:"record-right-info"},[n("span",[t._v("进行时长: ")]),t._v(t._s(t.getDiffTime(new Date(e.startTime),t.date)))])])])]),n("div",{class:t.getContent(e).class}),n("div",{staticClass:"plan-solve-content"},[t._v(t._s(t.getContent(e).content))])])})),0)],1),n("van-overlay",{attrs:{show:t.showChange},on:{click:function(e){t.showChange=!1,t.showCalender=!1}}},[n("div",{staticClass:"change-content",on:{click:function(t){t.stopPropagation()}}},[n("div",{staticClass:"change-title"},[t._v(t._s(t.addMode?"手工新增记录":"修改打卡记录"))]),n("div",{staticClass:"fixed-right",on:{click:function(e){t.showChange=!1,t.showCalender=!1}}},[n("el-icon",{staticClass:"el-icon-error"})],1),n("div",{staticClass:"change-body"},[n("van-cell",{attrs:{title:"起始时间",value:t.$moment(t.startTime).format("YYYY/MM/DD HH:mm:ss "),"is-link":""},on:{click:function(e){return t.setCalenTime(t.startTime,"start")}}}),n("van-cell",{attrs:{title:"结束时间",value:t.$moment(t.endTime).format("YYYY/MM/DD HH:mm:ss "),"is-link":""},on:{click:function(e){return t.setCalenTime(t.endTime,"end")}}}),n("el-collapse-transition",[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showCalender,expression:"showCalender"}]},[n("van-datetime-picker",{attrs:{type:"datetime","show-toolbar":!1,"visible-item-count":4},on:{change:t.handleChange},model:{value:t.selectTime,callback:function(e){t.selectTime=e},expression:"selectTime"}})],1)])],1),n("el-button",{staticClass:"confirm-btn",attrs:{type:"text"},on:{click:t.submitChange}},[t._v("确 认")])],1)])],1)},b=[],C=(n("7514"),n("ac6a"),n("96cf"),n("3b8d")),y=(n("6c7b"),""),x={},T=0,k=0,_="",D={},S={},R=0,O=function(){return window.requestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,10)}}(),I=function t(){D.beginPath(),D.arc(T,k,R,0,2*Math.PI,!1),D.fillStyle=_,D.fill(),R+=10,R<S.offsetWidth&&O(t)},$=function(t){var e=0,n=0;while(null!=t)e+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent;return{x:e,y:n}},j=function(){event.targetTouches.length,_="rgba(0, 0, 0, 0.08)",S=event.srcElement,D=S.getContext("2d"),R=0,T=Math.abs(event.touches[0].pageX-$(S).x),k=Math.abs(event.touches[0].pageY-$(S).y),D.clearRect(0,0,S.width,S.height),I()},E=function(){event.targetTouches.length,_="rgba(0, 0, 0, 0)",S=event.srcElement,D=S.getContext("2d"),D.clearRect(0,0,S.width,S.height),D.fillStyle=_,D.fill()},M=function(){y=document.getElementsByClassName("material-design"),y=Array.prototype.slice.call(y);for(var t=0;t<y.length;t+=1)x=document.createElement("canvas"),x.addEventListener("touchstart",j,!1),x.addEventListener("touchend",E,!1),x.style.borderRadius="10px",y[t].appendChild(x),x.style.width="100%",x.style.height="100%",x.width=x.offsetWidth,x.height=x.offsetHeight};function P(){M()}var H=n("4bfb"),B={name:"RecordCircle",data:function(){return{addMode:!1,showCalender:!1,showChange:!1,showCard:!1,selectMe:!0,loading:!1,finished:!1,timer:null,date:new Date,page:{startPage:1,pageNum:5},total:0,records:[],recordStatus:{run:!1,record:Object},loop:null,canvas:{},centerX:0,centerY:0,color:"",context:{},element:{},radius:0,configItem:null,showConfig:[],startTime:new Date,endTime:new Date,selectTime:new Date,selectWhich:"start"}},watch:{configItem:function(t){this.startTime=new Date(t.startTime),this.endTime=new Date(t.endTime)},addMode:function(t){t&&(this.startTime=new Date,this.endTime=new Date)},showChange:function(t){t||(this.addMode=!1)}},mounted:function(){this.records=[],this.page.startPage=1,this.initRecord(),this.initCircleStyle(),this.initTime(),this.initStatus()},beforeDestroy:function(){this.timer&&clearInterval(this.timer),this.timer=null},methods:{submitChange:function(){var t=Object(C["a"])(regeneratorRuntime.mark((function t(){var e,n,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.showChange=!1,!this.addMode){t.next=8;break}return this.addMode=!1,e={status:2,startTime:this.startTime,endTime:this.endTime},t.next=6,Object(H["a"])(e).then((function(){a.$notify.success("添加成功"),a.page.startPage=1,a.loading=!1,a.finished=!1,a.records=[],a.initStatus()}));case 6:t.next=11;break;case 8:return n={recordId:this.configItem.recordId,startTime:this.startTime,endTime:this.endTime},t.next=11,Object(H["d"])(n).then((function(){a.page.startPage=1,a.loading=!1,a.finished=!1,a.records=[],a.initStatus()}));case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),setCalenTime:function(t,e){this.showCalender=!0,this.selectTime=t,this.selectWhich=e},handleChange:function(){"start"===this.selectWhich?this.startTime=this.selectTime:this.endTime=this.selectTime},changeTime:function(){this.showChange=!0},addRecord:function(){this.showChange=!0,this.addMode=!0},cancelRecord:function(){this.showConfig=[]},deleteRecord:function(){var t=Object(C["a"])(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={recordId:this.configItem.recordId},t.next=3,Object(H["f"])(e).then((function(){n.$notify.success("删除成功!"),n.page.startPage=1,n.loading=!1,n.finished=!1,n.records=[],n.initStatus()}));case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),clickBody:function(){},touchStart:function(t,e){clearTimeout(this.loop),this.loop=setTimeout(function(){this.showConfig[t.id]=!0,this.configItem=t;var n=document.getElementById("touchConfig"+t.id);n.style.left=Math.abs(e.touches[0].pageX-this.getElementPosition(this.$refs["record"+t.id][0]).x)+"px",n.style.top=Math.abs(e.touches[0].pageY-this.getElementPosition(this.$refs["record"+t.id][0]).y)+"px"}.bind(this),500)},getElementPosition:function(t){var e=0,n=0;while(null!=t)e+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent;return{x:e,y:n}},touchEnd:function(t){clearTimeout(this.loop)},getContent:function(t){var e,n={content:"",class:"",background:""};return e=1===t.status?this.getDiffminute(new Date(t.startTime),this.date):this.getDiffminute(new Date(t.startTime),new Date(t.endTime)),e>=0&&e<=60?(n.content="< 1",n.class="plan-solve-one",n.background="background: linear-gradient(to top left, rgba(248, 246, 242, 1), rgba(248, 246, 242, 1) 40%, rgba(0, 0, 0, 0.3))"):e>60&&e<=180?(n.content="< 3",n.class="plan-solve-three",n.background="background: linear-gradient(to top left, rgba(248, 246, 242, 1), #ecf9e1 40%, rgba(147, 210, 170, 0.6))"):e>180&&e<=300?(n.content="< 5",n.class="plan-solve-two",n.background="background: linear-gradient(to top left, rgba(248, 246, 242, 1), #fefdff 30%, rgba(1, 155, 219, 0.4));"):(n.content="> 5",n.class="plan-solve-four shadow",n.background="background: linear-gradient(to top left, rgba(248, 246, 242, 1), #fefdff 30%, rgba(138, 12, 0, 0.6));"),n},initStatus:function(){var t=Object(C["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(H["k"])().then((function(t){if(null!==t.data.data){var n=t.data.data;30===n.status&&(e.recordStatus.run=!1),31===n.status&&(e.recordStatus.run=!0,e.recordStatus.record=n),n.status}e.$emit("initRecordStatus",e.recordStatus)}));case 2:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),initRecord:function(){var t=Object(C["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(H["i"])(this.page).then((function(t){if(t.data.data.length>0){e.total=t.data.data[0].total;var n=t.data.data;n.forEach((function(t){void 0===e.records.find((function(e){return e.recordId===t.recordId}))&&e.records.push(t)}))}e.loading=!1,e.records.length>=e.total?(e.finished=!0,P()):e.page.startPage+=1}));case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),recordAction:function(){var t=Object(C["a"])(regeneratorRuntime.mark((function t(e){var n,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.recordStatus.run=e,n={status:e?2:1},e?(n.endTime=this.date,n.recordId=this.recordStatus.record.recordId):n.startTime=this.date,t.next=5,Object(H["n"])(n).then((function(){a.page.startPage=1,a.loading=!1,a.finished=!1,a.records=[],a.initStatus()}));case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),changeShowCard:function(){this.showCard=!1},onLoad:function(){this.initRecord()},initTime:function(){var t=this;this.timer=setInterval((function(){t.date=new Date}),1e3)},initCircleStyle:function(){var t=document.body.clientWidth,e=document.body.clientHeight;document.getElementById("circleOut").style.width=.6*t+"px",document.getElementById("circleOut").style.height=.6*t+"px",document.getElementById("circleIn").style.width=.6*t+"px",document.getElementById("circleIn").style.height=.6*t+"px",document.getElementById("topCircle").style.height=.6*t+50+"px",document.getElementById("listBody").style.height=e-document.getElementById("topCircle").style.height+"px"},getTimeStr:function(t,e){return t=new Date(t),this.$moment(t).format(e)},getWeekDay:function(t){switch(t=new Date(t),t.getDay()){case 1:return"星期一";case 2:return"星期二";case 3:return"星期三";case 4:return"星期四";case 5:return"星期五";case 6:return"星期六";case 0:return"星期日";default:return"星期"}},getDiffminute:function(t,e){var n=this.$moment(e),a=this.$moment(t);return n.diff(a,"minutes")},getDiffTime:function(t,e){var n=this.$moment(e),a=this.$moment(t),i=n.diff(a,"seconds");if(i>60){var r=n.diff(a,"minutes");if(r>60){var s=n.diff(a,"hours");return s+"时"+r%60+"分"}return r+"分"+i%60+"秒"}return i+"秒"}}},Y=B,A=(n("c9c0"),n("c0b4"),n("3978"),Object(u["a"])(Y,w,b,!1,null,"23b8f35a",null)),N=A.exports,L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"record-circle"},[n("div",{staticStyle:{"overflow-y":"auto","padding-bottom":"120px"},attrs:{id:"listBody"}},[n("van-list",{attrs:{finished:t.finished,"finished-text":"没有了更多了，欢迎继续打卡噢！"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.records,(function(e){return n("div",{key:e.recordId,ref:"record"+e.id,refInFor:!0,class:"circle-single-issue "+(e.recordMinute>300?"basic center":"")},[n("div",{staticClass:"oct-flex-row-v-center"},[n("div",[n("div",{class:"circle-issue-date "+(e.recordMinute>300?"shadow":"")},[t._v("\n              "+t._s(t.getTimeStr(e.recordDate,"YYYY年MM月DD日"))+"\n            ")]),n("div",{staticClass:"record-small-date"},[n("el-tag",{staticStyle:{margin:"5px 10px 5px 0"},attrs:{effect:"dark",size:"mini",type:"success"}},[t._v(" "+t._s("总时长："+e.recordMinute+"分钟"))]),n("el-tag",{staticStyle:{margin:"5px 10px 5px 0"},attrs:{effect:"dark",size:"mini",type:"warning"}},[t._v(" "+t._s("打卡次数："+e.recordNums))])],1)])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showDetails[e.id],expression:"showDetails[item.id]"}]},[n("van-loading",{directives:[{name:"show",rawName:"v-show",value:void 0===t.currRecords[e.id],expression:"currRecords[item.id] === undefined"}],attrs:{type:"spinner",color:"#1989fa"}}),t._l(t.currRecords[e.id],(function(e){return n("div",{key:"currRecord"+e.id},[n("el-tag",{staticStyle:{margin:"5px 0 2px 0"},attrs:{effect:"plain",type:"info",size:"medium"}},[n("b",[t._v(t._s(t.getTagContent(e)[0].name))]),n("span",[t._v(t._s(t.getTagContent(e)[0].value))]),n("span",{staticStyle:{width:"10px"}},[t._v("，")]),n("b",[t._v(t._s(t.getTagContent(e)[1].name))]),n("span",[t._v(t._s(t.getTagContent(e)[1].value))])])],1)}))],2),n("div",{class:t.getContent(e).class}),n("div",{staticClass:"plan-solve-content"},[t._v(t._s(t.getContent(e).content))]),n("div",{staticClass:"tools-bottom-right oct-flex-col-all-center",style:"background-color: "+t.getContent(e).color,on:{click:function(n){return t.showRecords(e)}}},[n("el-icon",{directives:[{name:"show",rawName:"v-show",value:!t.showDetails[e.id],expression:"!showDetails[item.id]"}],staticClass:"el-icon-arrow-down"}),n("el-icon",{directives:[{name:"show",rawName:"v-show",value:t.showDetails[e.id],expression:"showDetails[item.id]"}],staticClass:"el-icon-arrow-up"})],1)])})),0)],1)])},W=[],F={name:"RecordCircle",data:function(){return{data:[{year:"1951 年",sales:38},{year:"1952 年",sales:52},{year:"1956 年",sales:61},{year:"1957 年",sales:145},{year:"1958 年",sales:48},{year:"1959 年",sales:38},{year:"1960 年",sales:38},{year:"1962 年",sales:38}],showDetails:[],loading:!1,finished:!1,date:new Date,page:{startPage:1,pageNum:5},total:0,records:[],currRecords:[],currCharts:[],tooltip:{showItemMarker:!1,onShow:function(t){var e=t.items;e[0].name=null,e[0].name=e[0].title,e[0].value=e[0].value+"分钟"}}}},mounted:function(){this.records=[],this.page.startPage=1,this.initRecord()},methods:{getTagContent:function(t){return[{name:"打卡区间：",value:"".concat(this.$moment(new Date(t.startTime)).format("HH:mm")," - ").concat(this.$moment(new Date(t.endTime)).format("HH:mm"))},{name:"打卡时长：",value:this.getDiffTime(new Date(t.startTime),new Date(t.endTime))}]},showRecords:function(){var t=Object(C["a"])(regeneratorRuntime.mark((function t(e){var n,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return void 0===this.showDetails[e.id]||!1===this.showDetails[e.id]?this.showDetails[e.id]=!0:this.showDetails[e.id]=!1,this.$forceUpdate(),n={recordId:e.recordId,recordDate:e.recordDate},t.next=5,Object(H["h"])(n).then((function(t){if(null!==t.data.data){a.currRecords[e.id]=t.data.data;var n=[];t.data.data.forEach((function(t){n.push({time:"".concat(a.$moment(new Date(t.startTime)).format("HH:mm")," - ").concat(a.$moment(new Date(t.endTime)).format("HH:mm")),cost:a.$moment(new Date(t.endTime)).diff(a.$moment(new Date(t.startTime)),"minutes")})})),a.currCharts[e.id]=n,a.$forceUpdate()}}));case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getContent:function(t){var e={content:"",class:"",background:""},n=t.recordMinute;return n>=0&&n<=60?(e.content="< 1",e.class="plan-solve-one",e.background="background: linear-gradient(to top left, rgba(248, 246, 242, 1), rgba(248, 246, 242, 1) 40%, rgba(0, 0, 0, 0.3))",e.color="rgba(0, 0, 0, 0.8)"):n>60&&n<=180?(e.content="< 3",e.class="plan-solve-three",e.background="background: linear-gradient(to top left, rgba(248, 246, 242, 1), #ecf9e1 40%, rgba(147, 210, 170, 0.6))",e.color="rgba(147, 210, 170, 0.9)"):n>180&&n<=300?(e.content="< 5",e.class="plan-solve-two",e.background="background: linear-gradient(to top left, rgba(248, 246, 242, 1), #fefdff 30%, rgba(1, 155, 219, 0.4));",e.color="rgba(1, 155, 219, 0.8)"):(e.content="> 5",e.class="plan-solve-four shadow",e.background="background: linear-gradient(to top left, rgba(248, 246, 242, 1), #fefdff 30%, rgba(138, 12, 0, 0.6));",e.color="rgba(138, 12, 0, 0.8)"),e},onLoad:function(){this.initRecord()},initRecord:function(){var t=Object(C["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(H["j"])(this.page).then((function(t){if(t.data.data.length>0){e.total=t.data.data[0].total;var n=t.data.data;n.forEach((function(t){void 0===e.records.find((function(e){return e.recordId===t.recordId}))&&e.records.push(t)}))}e.loading=!1,e.records.length>=e.total?(e.finished=!0,P()):e.page.startPage+=1}));case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getTimeStr:function(t,e){return t=new Date(t),this.$moment(t).format(e)},getWeekDay:function(t){switch(t=new Date(t),t.getDay()){case 1:return"星期一";case 2:return"星期二";case 3:return"星期三";case 4:return"星期四";case 5:return"星期五";case 6:return"星期六";case 0:return"星期日";default:return"星期"}},getDiffminute:function(t,e){var n=this.$moment(e),a=this.$moment(t);return n.diff(a,"minutes")},getDiffTime:function(t,e){var n=this.$moment(e),a=this.$moment(t),i=n.diff(a,"seconds");if(i>60){var r=n.diff(a,"minutes");if(r>60){var s=n.diff(a,"hours");return s+"时"+r%60+"分"}return r+"分"+i%60+"秒"}return i+"秒"}}},q=F,z=(n("b0d4"),n("2d22"),Object(u["a"])(q,L,W,!1,null,"790d5e32",null)),X=z.exports,G={name:"index",components:{OctRecordCircle:N,OctWelCard:p,OctRecordHis:X},data:function(){return{active:"recordDaily",selectMe:!1,recordStatus:{run:!1},showCard:!1}},methods:{initRecordStatus:function(t){this.recordStatus=t},recordAction:function(t){this.recordStatus.run=t,this.$refs.recordCircle.recordAction(t)},changeShowCard:function(){this.showCard=!1}}},J=G,U=(n("e14f"),n("9aa0"),Object(u["a"])(J,a,i,!1,null,"56b9001a",null));e["default"]=U.exports},cd1c:function(t,e,n){var a=n("e853");t.exports=function(t,e){return new(a(t))(e)}},d667:function(t,e,n){"use strict";var a=n("32d4"),i=n.n(a);i.a},e14f:function(t,e,n){"use strict";var a=n("68a6"),i=n.n(a);i.a},e853:function(t,e,n){var a=n("d3f4"),i=n("1169"),r=n("2b4c")("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),a(e)&&(e=e[r],null===e&&(e=void 0))),void 0===e?Array:e}}}]);
//# sourceMappingURL=chunk-c12fa844.6678fcfc.js.map